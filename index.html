<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Just Shopp</title>
    <link rel="stylesheet" href="./style.css" />
    <link rel="icon" type="icon/image" href="./assets/images/icon.png">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-aFq/bzH65dt+w6FI2ooMVUpc+21e0SRygnTpmBvdBgSdnuTN7QbdgL+OapgHtvPp" crossorigin="anonymous" />
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-qKXV1j0HvMUeCBQ+QVp7JcfGl760yU08IQ+GpUo5hlbpg51QRiuqHAJz8+BrxE/N"
        crossorigin="anonymous"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
</head>

<body>

    <!-- navigation-bar -->
    <nav id="nav">
        <ul id="list1">
            <li><span class="logo">Just Shopp</span></li>
            <li>
                <select name="location" id="select">
                    <option value="Default">Select location</option>
                    <option value="India">Delhi</option>
                    <option value="Chennai">Chennai</option>
                    <option value="Noida">Noida</option>
                    <option value="Mumbai">Mumbai</option>
                    <option value="Hydrabad">Hydrabad</option>
                </select>
            </li>
            <li class="search">
                <input type="text" placeholder=" Find cars, mobile and more ..." id="search" />
                <button><ion-icon name="search-outline"></ion-icon></button>
            </li>
            <li class="message">
                <ion-icon name="mail-open-outline"></ion-icon>
            </li>
            <li class="bell">
                <ion-icon id="noti" name="notifications-outline"></ion-icon>
            </li>
            <li>
                <button id="log">
                    <a href="./Login-Page/index.html">Login</a>
                </button>
            </li>
            <li>
                <button id="sell" onclick="sellitem()">
                    <ion-icon name="add-outline"></ion-icon>sell
                </button>
            </li>
        </ul>
    </nav>
    <br />
    <br />
    <br />


<!-- ------------------------------------------------------------------------------------------------------------------- -->
<div class="outerform">
<div class="formdata">
    <input type="text" id="name" placeholder="   username" required>
    <span id="namespan">*</span>
    
    <input type="number" id="price" placeholder="   price" required>
    <span>*</span>
   
    <input type="text" class="productt" id="item name" placeholder="   item name"required> 
    <span>*</span>
    
    <input type="text" id="modelYear" placeholder="   year of purchase" required>
    <span>*</span>
    
    <input type="number" id="phoneNum" placeholder="   user mobile num" required>
    <span>*</span>
    
    <select name="" id="category" required>
        <option value="">choose the item category</option>
        <option value="bike">Bike</option>
        <option value="car">Car</option>
        <option value="phone">Phone</option>
        <option value="electronics">Electronics</option>
        <option value="sports">Sports</option>
        <option value="other">others</option>
    </select>
    <span>*</span>
    
    <textarea name="" id="txt" cols="30" rows="10" placeholder="   write description of product here ..." required></textarea>
    <span>*</span>
    
    <button id="sub">upload details</button>
  </div>
  <button id="cross" onclick="closing()"><ion-icon id="cutt" name="close-outline"></ion-icon></button>
  </div>
<!-- ------------------------------------------------------------------------------------------------------------------- -->
    <!-- advertisement -->
    <img id="banner" src="./assets/images/hero_bg_in_v4@1x.png" alt="banner">

<!-- data-fetch -->
    <div id="container">
        
    </div>
    <div class="new" id="outer"></div>

    <!-- load-more -->
    <div class="load-more">
        <button id="load" onclick="loadMore()">Lode More</button>
    </div>

     

    <!-- Footer -->
    <div class="download-section">
        <div class="download">
            <img src="./assets/images/footer-img.png" class="images" alt="mobile-image" />

            <div class="text">
                <h1>Try<i> Just Shopp</i> App</h1>
                <p>Buy, sell and find just about anything using <br />
                    the app on your mobile.
                </p>
            </div>
            <div class="download_store">
                <p>GET YOUR APP TODAY</p>
                <img src="./assets/images/play-store.jpg" alt="play-store" />
                <img src="./assets/images/app-store.jpg" alt="app-store" />
            </div>
        </div>
    </div>

    <div class="main_footer">
        <div class="footer">
            <div class="footer_box">
                <h2>POPULAR LOCATIONS</h2>
                <p>Kolkata</p>
                <p>Mumbai</p>
                <p>Chennai</p>
                <p>pune</p>
            </div>
            <div class="footer_box">
                <h2>TRENDING LOCATIONS</h2>
                <p>Bhubaneshwar</p>
                <p>Hyderabad</p>
                <p>Chandigarh</p>
                <p>Nashik</p>
            </div>
            <div class="footer_box">
                <h2>ABOUT US</h2>
                <p>Just Shopp Group</p>
                <p>Careers</p>
                <p>Contact Us</p>
                <p>Customer</p>
            </div>
        </div>
    </div>

    <script src="./javascript/data.js"></script>
    <script src="./javascript/data-fetch.js"></script>
    <script src="./javascript/index.js"></script>

    <script type="module">
        
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.19.0/firebase-analytics.js";
        
        const firebaseConfig = {
            apiKey: "AIzaSyAvmL-g0PRjxKgdkdcI2ZPSLFLixcjWL9o",
            authDomain: "shopp-275bd.firebaseapp.com",
            databaseURL: "https://shopp-275bd-default-rtdb.firebaseio.com",
            projectId: "shopp-275bd",
            storageBucket: "shopp-275bd.appspot.com",
            messagingSenderId: "768750467172",
            appId: "1:768750467172:web:8714137743d227ab058771",
            measurementId: "G-25J6TVD26F"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        import{getDatabase, ref, get, set, child, update, onValue, remove}
        from "https://www.gstatic.com/firebasejs/9.19.0/firebase-database.js"
        const db = getDatabase();
        //----------------------------------------------------------------------
        var namebox=document.getElementById("name");
        var priceIt=document.getElementById("price");
        var picture=document.getElementById("pic");
        
      
        var itemName=document.getElementById("item name");
        var modelYear=document.getElementById("modelYear");
        var phoneNum=document.getElementById("phoneNum");
        var category=document.getElementById("category");
        var description=document.getElementById("txt");
        var submit=document.getElementById("sub");
      
      
      var show=document.getElementById("create");
      // -----------------------------------------------------------
      function InsertData(){
        set(ref(db, "userdata/" + phoneNum.value),{
            nameUser: namebox.value,
            priceItem:priceIt.value,
            nameItem: itemName.value,
            yearModel: modelYear.value,
            mobileUser: phoneNum.value,
            categoryItem: category.value,
            desItem: description.value,
        })
        .then(()=>{
            alert("data stored successfully")
            .catch((error)=>{
                alert("unsuccessful ...!!"+error)
            })
            .then(()=>{
                alert("data stored successfully")
                .catch((error)=>{
                    alert("unsuccessful ...!!"+error)
                })
            })
        });
      }
    
      
        //----------------------------creating card----------------------------
        let box =document.getElementById('outer');
              
        function card(priceItem,nameItem,yearModel,categoryItem){
            let maincard=document.createElement('div');
            let subcard=document.createElement('div');
            subcard.classList.add('subcard')
            maincard.classList.add('maincard')
            box.appendChild(maincard);
            maincard.appendChild(subcard);
            
            
            let p1=document.createElement('p');
            let v1=document.createElement('p');
            let p2=document.createElement('p');
            let p3=document.createElement('p');
            //---------------------------------
                  
            p1.innerText=`price :${priceItem}`;
            v1.innerText=`Item name :${nameItem}`;
            p2.innerText=`Year of purcase :${yearModel}`;
            p3.innerText=` Type : ${categoryItem}`;
            maincard.appendChild(p1);
            maincard.appendChild(v1);
            maincard.appendChild(p2);
            maincard.appendChild(p3);
                  
                  
        }
        //-----------------set all object atrributes-----------------
        function allItem(userdata){
            // maincard.innerHTML="";
            userdata.forEach(e=>{
                card(e.priceItem,e.nameItem,e.yearModel,e.categoryItem);
            });
        }
        //-------------------get realtime response------------------------
      
        function getdatarealtime(){
            const dbRef=ref(db,"userdata");
            onValue(dbRef,(snapshot)=>{
                var students=[];
                snapshot.forEach(childSnapshot=>{
                    students.push(childSnapshot.val());
                });
                allItem(students);
            })
        }
        window.onload=getdatarealtime;
        
        //============================================================
        // window.addEventListener('load',InsertData);
        submit.addEventListener('click',InsertData);
        // show.addEventListener('click',SelectData);
      
        //=============================================================
        </script>
</body>

</html>